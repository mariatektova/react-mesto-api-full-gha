{"ast":null,"code":"import _slicedToArray from\"/Users/mariatektova/Documents/\\u0432\\u0435\\u0440\\u0441\\u0442\\u043A\\u0430/mesto-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{api}from\"../utils/api.js\";import Card from\"./Card.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Main(_ref){var onEditProfile=_ref.onEditProfile,onAddPlace=_ref.onAddPlace,onEditAvatar=_ref.onEditAvatar,onCardClick=_ref.onCardClick;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),userName=_useState2[0],setUserName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),userDescription=_useState4[0],setUserDescription=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),userAvatar=_useState6[0],setUserAvatar=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),cards=_useState8[0],setCards=_useState8[1];useEffect(function(){api.getInfo().then(function(profileInfo){setUserName(profileInfo.name);setUserDescription(profileInfo.about);setUserAvatar(profileInfo.avatar);});api.getCards().then(function(dataCard){setCards(dataCard.map(function(data){return{cardId:data._id,name:data.name,link:data.link,likes:data.likes};}));});},[]);return/*#__PURE__*/_jsxs(\"main\",{className:\"main\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"profile\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile__main\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile__overlay\",children:[/*#__PURE__*/_jsx(\"img\",{src:userAvatar,className:\"profile__avatar\",alt:\"\\u0410\\u0432\\u0430\\u0442\\u0430\\u0440\\u043A\\u0430\",style:{backgroundImage:\"url(\".concat(userAvatar,\")\")}}),/*#__PURE__*/_jsx(\"div\",{className:\"profile__avatar-button\",onClick:onEditAvatar})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile__info\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"profile__info-name\",children:userName}),/*#__PURE__*/_jsx(\"button\",{className:\"profile__info-button\",type:\"button\",onClick:onEditProfile}),/*#__PURE__*/_jsx(\"p\",{className:\"profile__info-text\",children:userDescription})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"profile__add-button\",type:\"button\",onClick:onAddPlace})]}),/*#__PURE__*/_jsx(\"section\",{className:\"elements\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"elements__list\",children:cards.map(function(card){return/*#__PURE__*/_jsx(Card,{card:card,onCardClick:onCardClick});})})})]});}export default Main;","map":{"version":3,"names":["React","useState","useEffect","api","Card","Main","onEditProfile","onAddPlace","onEditAvatar","onCardClick","userName","setUserName","userDescription","setUserDescription","userAvatar","setUserAvatar","cards","setCards","getInfo","then","profileInfo","name","about","avatar","getCards","dataCard","map","data","cardId","_id","link","likes","backgroundImage","card"],"sources":["/Users/mariatektova/Documents/верстка/mesto-react/src/components/Main.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { api } from \"../utils/api.js\";\nimport Card from \"./Card.js\";\n\nfunction Main({ onEditProfile, onAddPlace, onEditAvatar, onCardClick}) {\n  const [userName, setUserName] = useState(\"\");\n  const [userDescription, setUserDescription] = useState(\"\");\n  const [userAvatar, setUserAvatar] = useState(\"\");\n  const [cards, setCards] = useState([]);\n\n\n useEffect(() => {\n     api.getInfo().then((profileInfo) => {\n       setUserName(profileInfo.name)\n       setUserDescription(profileInfo.about)\n       setUserAvatar(profileInfo.avatar)\n     })\n     api.getCards().then((dataCard) => {\n       setCards(dataCard.map((data) => ({\n         cardId: data._id,\n         name: data.name,\n         link: data.link,\n         likes: data.likes\n       })))\n     })\n   }, []);\n  return (\n    <main className=\"main\">\n      <section className=\"profile\">\n        <div className=\"profile__main\">\n          <div className=\"profile__overlay\">\n            <img\n              src={userAvatar}\n              className=\"profile__avatar\"\n              alt=\"Аватарка\"\n              style={{ backgroundImage: `url(${userAvatar})` }}\n            />\n\n            <div\n              className=\"profile__avatar-button\"\n              onClick={onEditAvatar}\n            ></div>\n          </div>\n\n          <div className=\"profile__info\">\n            <h1 className=\"profile__info-name\">{userName}</h1>\n            <button\n              className=\"profile__info-button\"\n              type=\"button\"\n              onClick={onEditProfile}\n            ></button>\n            <p className=\"profile__info-text\">{userDescription}</p>\n          </div>\n        </div>\n        <button\n          className=\"profile__add-button\"\n          type=\"button\"\n          onClick={onAddPlace}\n        ></button>\n      </section>\n      <section className=\"elements\">\n        <ul className=\"elements__list\">\n            {cards.map((card) => (\n             <Card\n              card={card}\n               onCardClick={onCardClick}/>\n           ))}\n           </ul>\n        </section>\n    </main>\n  );\n}\n\nexport default Main;\n"],"mappings":"0KAAA,MAAOA,MAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,GAAG,KAAQ,iBAAiB,CACrC,MAAOC,KAAI,KAAM,WAAW,CAAC,wFAE7B,QAASC,KAAI,MAA0D,IAAvDC,cAAa,MAAbA,aAAa,CAAEC,UAAU,MAAVA,UAAU,CAAEC,YAAY,MAAZA,YAAY,CAAEC,WAAW,MAAXA,WAAW,CAClE,cAAgCR,QAAQ,CAAC,EAAE,CAAC,wCAArCS,QAAQ,eAAEC,WAAW,eAC5B,eAA8CV,QAAQ,CAAC,EAAE,CAAC,yCAAnDW,eAAe,eAAEC,kBAAkB,eAC1C,eAAoCZ,QAAQ,CAAC,EAAE,CAAC,yCAAzCa,UAAU,eAAEC,aAAa,eAChC,eAA0Bd,QAAQ,CAAC,EAAE,CAAC,yCAA/Be,KAAK,eAAEC,QAAQ,eAGvBf,SAAS,CAAC,UAAM,CACZC,GAAG,CAACe,OAAO,EAAE,CAACC,IAAI,CAAC,SAACC,WAAW,CAAK,CAClCT,WAAW,CAACS,WAAW,CAACC,IAAI,CAAC,CAC7BR,kBAAkB,CAACO,WAAW,CAACE,KAAK,CAAC,CACrCP,aAAa,CAACK,WAAW,CAACG,MAAM,CAAC,CACnC,CAAC,CAAC,CACFpB,GAAG,CAACqB,QAAQ,EAAE,CAACL,IAAI,CAAC,SAACM,QAAQ,CAAK,CAChCR,QAAQ,CAACQ,QAAQ,CAACC,GAAG,CAAC,SAACC,IAAI,QAAM,CAC/BC,MAAM,CAAED,IAAI,CAACE,GAAG,CAChBR,IAAI,CAAEM,IAAI,CAACN,IAAI,CACfS,IAAI,CAAEH,IAAI,CAACG,IAAI,CACfC,KAAK,CAAEJ,IAAI,CAACI,KACd,CAAC,EAAC,CAAC,CAAC,CACN,CAAC,CAAC,CACJ,CAAC,CAAE,EAAE,CAAC,CACP,mBACE,cAAM,SAAS,CAAC,MAAM,wBACpB,iBAAS,SAAS,CAAC,SAAS,wBAC1B,aAAK,SAAS,CAAC,eAAe,wBAC5B,aAAK,SAAS,CAAC,kBAAkB,wBAC/B,YACE,GAAG,CAAEjB,UAAW,CAChB,SAAS,CAAC,iBAAiB,CAC3B,GAAG,CAAC,kDAAU,CACd,KAAK,CAAE,CAAEkB,eAAe,eAASlB,UAAU,KAAI,CAAE,EACjD,cAEF,YACE,SAAS,CAAC,wBAAwB,CAClC,OAAO,CAAEN,YAAa,EACjB,GACH,cAEN,aAAK,SAAS,CAAC,eAAe,wBAC5B,WAAI,SAAS,CAAC,oBAAoB,UAAEE,QAAQ,EAAM,cAClD,eACE,SAAS,CAAC,sBAAsB,CAChC,IAAI,CAAC,QAAQ,CACb,OAAO,CAAEJ,aAAc,EACf,cACV,UAAG,SAAS,CAAC,oBAAoB,UAAEM,eAAe,EAAK,GACnD,GACF,cACN,eACE,SAAS,CAAC,qBAAqB,CAC/B,IAAI,CAAC,QAAQ,CACb,OAAO,CAAEL,UAAW,EACZ,GACF,cACV,gBAAS,SAAS,CAAC,UAAU,uBAC3B,WAAI,SAAS,CAAC,gBAAgB,UACzBS,KAAK,CAACU,GAAG,CAAC,SAACO,IAAI,qBACf,KAAC,IAAI,EACJ,IAAI,CAAEA,IAAK,CACV,WAAW,CAAExB,WAAY,EAAE,EAC9B,CAAC,EACG,EACE,GACP,CAEX,CAEA,cAAeJ,KAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}